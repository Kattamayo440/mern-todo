{"ast":null,"code":"import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Todo(props){const{todo,setTodos}=props;const updateTodo=async(todoId,todoStatus)=>{const res=await fetch(\"/api/todos/\".concat(todoId),{method:'PUT',body:JSON.stringify({status:todoStatus}),headers:{'Content-Type':'application/json'}});const json=await res.json();if(json.acknowledged){setTodos(currentTodos=>{return currentTodos.map(currentTodo=>{if(currentTodo._id===todoId){return{...currentTodo,status:!currentTodo.status};}return currentTodo;});});}};const deleteTodo=async todoId=>{const res=await fetch(\"/api/todos/\".concat(todoId),{method:\"DELETE\"});const json=await res.json();if(json.acknowledged){setTodos(currentTodos=>{return currentTodos.filter(currentTodo=>currentTodo._id!==todoId);});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"todo\",children:[/*#__PURE__*/_jsx(\"p\",{children:todo.todo}),/*#__PURE__*/_jsxs(\"div\",{className:\"mutations\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"todo__status\",onClick:()=>updateTodo(todo._id,todo.status),children:todo.status?\"☑\":\"☐\"}),/*#__PURE__*/_jsx(\"button\",{className:\"todo__delete\",onClick:()=>deleteTodo(todo._id),children:\"x\"})]})]});}","map":{"version":3,"names":["Todo","props","todo","setTodos","updateTodo","todoId","todoStatus","res","fetch","concat","method","body","JSON","stringify","status","headers","json","acknowledged","currentTodos","map","currentTodo","_id","deleteTodo","filter","_jsxs","className","children","_jsx","onClick"],"sources":["/Users/kat/Projects/mern-todo/client/src/Todo.jsx"],"sourcesContent":["export default function Todo(props) {\n    const { todo, setTodos } = props;\n\n    const updateTodo = async (todoId, todoStatus) => {\n        const res = await fetch(`/api/todos/${todoId}`, {\n            method: 'PUT',\n            body: JSON.stringify({ status: todoStatus }),\n            headers: {\n                'Content-Type': 'application/json'\n            },\n        });\n\n        const json = await res.json();\n        if (json.acknowledged) {\n            setTodos(currentTodos => {\n                return currentTodos.map((currentTodo) => {\n                    if (currentTodo._id === todoId) {\n                        return { ...currentTodo, status: !currentTodo.status };\n                    }\n                    return currentTodo;\n                });\n            });\n        }\n    };\n\n    const deleteTodo = async (todoId) => {\n        const res = await fetch(`/api/todos/${todoId}`, {\n            method: \"DELETE\"\n        });\n        const json = await res.json();\n        if (json.acknowledged) {\n            setTodos(currentTodos => {\n                return currentTodos\n                .filter((currentTodo) => (currentTodo._id !== todoId));\n            })\n        }\n    };\n\n    return (\n        <div className=\"todo\">\n            <p>{todo.todo}</p>\n            <div className=\"mutations\">\n                <button\n                    className=\"todo__status\"\n                    onClick={() => updateTodo(todo._id, todo.status)}\n                >\n                    {(todo.status) ? \"☑\" : \"☐\"}\n                </button>\n                <button\n                    className=\"todo__delete\"\n                    onClick={() => deleteTodo(todo._id)}\n                >\n                    x\n                </button>\n            </div>\n        </div>\n    )\n}"],"mappings":"yDAAA,cAAe,SAAS,CAAAA,IAAIA,CAACC,KAAK,CAAE,CAChC,KAAM,CAAEC,IAAI,CAAEC,QAAS,CAAC,CAAGF,KAAK,CAEhC,KAAM,CAAAG,UAAU,CAAG,KAAAA,CAAOC,MAAM,CAAEC,UAAU,GAAK,CAC7C,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,eAAAC,MAAA,CAAeJ,MAAM,EAAI,CAC5CK,MAAM,CAAE,KAAK,CACbC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEC,MAAM,CAAER,UAAW,CAAC,CAAC,CAC5CS,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAC,CAEF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAT,GAAG,CAACS,IAAI,CAAC,CAAC,CAC7B,GAAIA,IAAI,CAACC,YAAY,CAAE,CACnBd,QAAQ,CAACe,YAAY,EAAI,CACrB,MAAO,CAAAA,YAAY,CAACC,GAAG,CAAEC,WAAW,EAAK,CACrC,GAAIA,WAAW,CAACC,GAAG,GAAKhB,MAAM,CAAE,CAC5B,MAAO,CAAE,GAAGe,WAAW,CAAEN,MAAM,CAAE,CAACM,WAAW,CAACN,MAAO,CAAC,CAC1D,CACA,MAAO,CAAAM,WAAW,CACtB,CAAC,CAAC,CACN,CAAC,CAAC,CACN,CACJ,CAAC,CAED,KAAM,CAAAE,UAAU,CAAG,KAAO,CAAAjB,MAAM,EAAK,CACjC,KAAM,CAAAE,GAAG,CAAG,KAAM,CAAAC,KAAK,eAAAC,MAAA,CAAeJ,MAAM,EAAI,CAC5CK,MAAM,CAAE,QACZ,CAAC,CAAC,CACF,KAAM,CAAAM,IAAI,CAAG,KAAM,CAAAT,GAAG,CAACS,IAAI,CAAC,CAAC,CAC7B,GAAIA,IAAI,CAACC,YAAY,CAAE,CACnBd,QAAQ,CAACe,YAAY,EAAI,CACrB,MAAO,CAAAA,YAAY,CAClBK,MAAM,CAAEH,WAAW,EAAMA,WAAW,CAACC,GAAG,GAAKhB,MAAO,CAAC,CAC1D,CAAC,CAAC,CACN,CACJ,CAAC,CAED,mBACImB,KAAA,QAAKC,SAAS,CAAC,MAAM,CAAAC,QAAA,eACjBC,IAAA,MAAAD,QAAA,CAAIxB,IAAI,CAACA,IAAI,CAAI,CAAC,cAClBsB,KAAA,QAAKC,SAAS,CAAC,WAAW,CAAAC,QAAA,eACtBC,IAAA,WACIF,SAAS,CAAC,cAAc,CACxBG,OAAO,CAAEA,CAAA,GAAMxB,UAAU,CAACF,IAAI,CAACmB,GAAG,CAAEnB,IAAI,CAACY,MAAM,CAAE,CAAAY,QAAA,CAE/CxB,IAAI,CAACY,MAAM,CAAI,GAAG,CAAG,GAAG,CACtB,CAAC,cACTa,IAAA,WACIF,SAAS,CAAC,cAAc,CACxBG,OAAO,CAAEA,CAAA,GAAMN,UAAU,CAACpB,IAAI,CAACmB,GAAG,CAAE,CAAAK,QAAA,CACvC,GAED,CAAQ,CAAC,EACR,CAAC,EACL,CAAC,CAEd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}